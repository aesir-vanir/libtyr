language: rust
rust:
- nightly
env:
  global:
  - RUST_TEST_THREADS=1
  - RUST_BACKTRACE=full
  - secure: acY0HE6/Zsejr7ohlkf9G0cilkINMfjELSl69+ytvKdwteWVfh3X2haxUHdrEyle1HwqA29Jy/wtnegZKYQjJaayqWjGCebVcaMA7xoaQJsYT+ZzrVAuqA12CCIi8NJFXMbO0a6IChZ9LIkB7uv23q0FqCj8xFxSPSt7C9gNCCsAx5B8hEOpwc6QdCEoCFXFjvhwyAnxhuoe0yZFZf/jhvhJeGV6F5jFqRNxFZ6EM88vFT2/fqcVeaUFbAK7p56N+iHVskZ5fr+dgRdQXXv4wl8CAOs+dsCkw/XzaoBiHNzp+twi8JoJwalp+DW+hZ58l72cmrHAE6PVcsIsoXPfsfqlDgfX05bEN2I2mHM6br9rDkyig+zSRnIpDpB9P3rK+VBQkUelhZB6mXJtIO5DzDDfkIG0J7kFD/IbMKliRdHuIM+qZScNzwn5uT9cng9MGhfG1QwNO25bpRnwAvSFhtxaTMTXjfqtTGVFIcg4v1g12kzs9sUsxo3hDQRExYDy5w6VDQrpboJOVkBZPSSyOaWCV0GASimP5AKCiOTxzTYEtuv+tS6dd0AkZXhUL/oKjBB9d5/sxkXPNSKh4QtlywSEcwHf/699nBiCDuyKTjdw83jWE5AKPqjlftrS8cHMbENVt8KP17xb916Uwp7SxMTZptsPzSxf0zoY2qHs4Tc=
  - secure: xj7QDQde4LH6YpeDhjdMJ7S4FKc/4txJt25CCEEqRLqbCodVNJQRcsb91YiHhFRMhgmERJtRbyjgKIyQzEsAEU5GekeA0BBd0u2zPvGbfQjlqpZE/eej/YxpXvPbUbYeJXb5wDXCx4i1SjnoByfuWRsW4FJeWmCqU/+vMmNhzUgroOAC9YsrFW7fcfcrpbT02HK/Ak+KVoNeTq4/eldWNd3OGuhk+8MDWLRJW2tJI4BwregwemCA/ZlAYLGGn0shSuW2+Pm2PVdR9H6Rze+G8IPY5n2cuHsp7Cg0JH1PPsXrIcK9ja1WtucBFQEU01GCSdYuN3VN5Yc7X+0u5B42XTZ0KFmDnNk0iznmjrabVLaYjdC6nfw3VvIDm1iD5IBlsioiFpESHjXtQaNQI0/aT4wIDYH3FxSTfCo3n73vO76O3uW1DLBgsfh2OBz+jrriqqCDAyBf5IAYzlGqWby/+jAErEiUipTbavjI2DmoSdQO4rxpHchK0steA1yW+dowAkSe6mvlWFYW+OjhIDBvLkwGwgDtRtlZcGRQ/82TbscW94KkAP11PhZ9HA/6yz8vhypfJYTj2VJ3fzRYHPy6L85V2Zhd5EZq/SbUHwKOoIfbWXk4FzlkSozTr4oOAGxkq4+jqIOsXf2q5I9CcbUjENQXGy/wWw59WeQcLNLbQWs=
  - secure: vDpCpeQuo0o3IstdpHo0Y/5s3untAWbbtKVjenwOvOyd0QL+5l7xRg8HOa2e1TnJYQ4By2D2GMMMUgacGZ/rPv11sAg0qPurYoQ2YGjVwFydGcmA47CBDSOwBu0AKe25LHkH01PU3zdO1YH1Erljofv2z3WODpat1u02RJSIT5eMFqurLfKcJ5FbzrJZ+uMNMQRdSW6HeYa6rMLb6P9zxMgz7kcI465sUpEMDKPTVUGexKhgiYbvHLKPwAbEnRGpmshIBE84wtcMyRywcJp1+czpQX99VDEWKJicxlmCd5z1h6TtowTkYjbMLFquO5zI4+3ataAL9Iy/jcZxj3Et+Wowi0yT5mG31L35SPkmon7kdyw4mcJscbQQ6JQ1ZTywzcQ+vLj80tCeT47aDkAJmZO9iVfV/2luVCUA9+CqqYiTGq9EGbDoRaCFRhHgzb+F3ktWU93a6igp4vgswFnHLsCTNWfoc6+cQDcYF3pTc1Bevwn3S7FxQEjWIcCfuro17iflHHwLmQUMe2GiNWI3xoeGk2wLKIH3+is+F7QvaFB91gjDcSNtrzCM9MKdMCyJHoLawNweRO1c9TmfY0sK1K0KBLcaJKX9I6vxa7DLJsmsN2CqPULL+o53kUIwE5yKzjGAOgRK/96uA3Ld3S1RpKaJnENCWkCWEdOibn0yHQE=
  - secure: VZxnTNqclFpIOkb1G61QUA7EwcanXTEcOeojMzjd3gYBqovDtfgp4JRmkoJDG5H0yCI/F1LYxduReAO68IGWhPoe6HSPQ9ZkpfXwzA6JBPTH+ETJmTyXyFnYzlSBA/8A8tZqxr3EVdMuyuPoAqj2O5VnLg23o+iSFB1sUfMBhZ99WV7Me84rMlTLs4E6IX7CLbPP1ZSl111ShHeEpOELsyAkwY3pFJcf7f5doqruZFVBqMRdSz0UL1FlcI3PQneM3bv+vxt2lhnXiNyqDwMhXaXywx/B1KXKSFZ0TuKkH+q0Dp69ITUIzQtCaGFC37BeQAtbPQQmnStL1UBK5/NVmql2CHerdmr4KpPd3mRrTTycuVwzdkrDiu/OpLGdtWSxNWRogDfsAIHaD3Q1gJ3aQtw3f/9FdYS8ueCF0AWWd4TEdhkEw8DizMc+p8n5W6j0Hr5Y82XaPTuwBqkKVBPPyBS1Al+IiNg7smPlNFITNJ2Mat795R/Fu6EXg6zhB5psV/O3qgKaFXpAAJK4TjNCs8fhgQfGcCiXed1rKgFLYnDU1uZeOSW2G3lCARtHZxY/yeMd+zes8dyoasYG0DqKVncNemDX0sIqDPPa4UwD2zUQgjpi3t7xaChZYm0wylqr5OH4D1ICvL5Alpc1mcYxcDm3IlMcjPzX1cGGwBpxfP8=
before_script:
- wget https://s3.us-east-2.amazonaws.com/mimir-instantclient/instantclient-basic-linux.x64-12.2.0.1.0.zip
  -O /tmp/instantclient-basic-linux.x64-12.2.0.1.0.zip
- wget https://s3.us-east-2.amazonaws.com/mimir-instantclient/instantclient-sdk-linux.x64-12.2.0.1.0.zip
  -O /tmp/instantclient-sdk-linux.x64-12.2.0.1.0.zip
- mkdir -p /opt/oracle
- unzip -uo /tmp/instantclient-basic-linux.x64-12.2.0.1.0.zip -d /opt/oracle
- unzip -uo /tmp/instantclient-sdk-linux.x64-12.2.0.1.0.zip -d /opt/oracle
- export LD_LIBRARY_PATH=/opt/oracle/instantclient_12_2:$LD_LIBRARY_PATH
script:
- cargo build --verbose --all
- cargo test --verbose --all
